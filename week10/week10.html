<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="week10.css" />
    <link rel="stylesheet" href="button.css" />
    <script src="week10.js" type="module">
     
    </script>
    <title>Ian Moes New HTML Doc</title>
    
  </head>
  <body>

    <div class="menu">
  
      <ul>
        <a href="https://moosius1.github.io/moosius1-wdd-330/week10/week10.html"><li>Home</li></a>
        <a href="https://moosius1.github.io/moosius1-wdd-330/week10/savedjokes.html"><li>Saved Jokes</li></a>
      
      <a href="https://moosius1.github.io/moosius1-wdd-330/week10/about.html"><li>About </li></a>
     
    </ul>   
    
      </div>

      <script>
        fetch("https://v2.jokeapi.dev/joke/Any?safe-mode", {
	"method": "GET",
	"headers": {
		"x-rapidapi-host": "dad-jokes.p.rapidapi.com",
		"x-rapidapi-key": "198d2ae886mshda0c71e675676f0p1e0877jsn724c64a80630"
	}
})
    .then((response) => response.json())
    .then((jsObject) =>{
        console.log(jsObject);
    const singleLine = jsObject['joke'];
    const setup = jsObject['setup'];
    console.log(setup);
    const punchline = jsObject['delivery'];
    console.log(punchline);
    console.log(singleLine);
    
    document.getElementById('setup').textContent = setup;
    document.getElementById('punchline').textContent = punchline;
    document.getElementById('singleLine').textContent = singleLine;

    // Put the object into storage


    
    })

    function save(){
      const setup = document.getElementById('setup').textContent;
      localStorage.setItem(localStorage.length, setup);
      const punchline = document.getElementById('punchline').textContent;
      localStorage.setItem(localStorage.length, punchline);
      const singleLine = document.getElementById('singleLine').textContent;
      localStorage.setItem(localStorage.length, singleLine);

      
      
      // Retrieve the object from storage
      var retrievedObject = localStorage.getItem('setup');
      var retrievedObject2 =localStorage.getItem('punchline');
      
      console.log(localStorage[0]);
      console.log(retrievedObject2);
      }

     
        
        
   
    

    
      </script>
    <div class="menu-icon" onclick="toggleMenu()">
    <script> function toggleMenu() {
      document.getElementsByClassName("menu")[0].classList.toggle("pop-out");
     
   document.getElementsByClassName("menu-icon")[0].classList.toggle("pop-out-icon");
    
  document.getElementsByClassName("line2")[0].classList.toggle("fade-away");
    
  document.getElementsByClassName("line1")[0].classList.toggle("rotate-down");
    
  document.getElementsByClassName("line3")[0].classList.toggle("rotate-up");

  
    
  
  
  
  }</script>
      
      <div class="menuLine line1 "></div>
      <div class="menuLine line2"></div>
      <div class="menuLine line3"></div>
      
     
     
            
      </div>

      <img class="logo" src="https://moosius1.github.io/moosius1-wdd-330/week10/ian_arthur_moes_designs_logo_white-02.svg" alt="Homepage">
  

    <h1>Dad jokes app V1.0</h1>
      <div class="jokeText">
    <span id="setup">Why did the chicken cross the road?</span>
   <br>
    <span id="punchline">To get to the other side</span>
   
    <span id="singleLine"></span>
  </div>
  <div class="saveJoke">
  <h4>Like this joke? </h4>
  <button id="save" class="bubbly-button" onClick="save()">Save to my Jokes</button>
  <button class="bubbly-button" onClick="window.location.reload();">New Random Joke</button>
  
</div>
<br>

    <div class="submitJoke">
      <h4>Have your own joke?</h4>
      <form action="/week10/joke-submitted.html">
        <label for="name"> </label>
        <input type="text" id="fname" name="fname" placeholder="Please enter your name"><br><br>
        <label for="Joke"></label>
        <textarea id="joke" name="jokeInput" rows="4" cols="40" placeholder="Why did the chicken cross the road?"></textarea>
        
        <button class="bubbly-button" type="submit" value="Submit">Submit Joke</button>
      </form> 
</div>
  </body>
</html>